<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Centro de búsqueda de la Instrucción</title>
<style>
    :root{
      --bg:#0b0d10; --panel:#101720; --text:#e6f1ff; --muted:#9fb3c8; --ol:#223040;
      --chip:#16202c; --chip2:#0e141c; --ok:#7be3a1; --warn:#f1c56b;
      --tap:42px; --radius:14px;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text)}

    .wrap{max-width:1120px; margin:0 auto; padding:18px 14px 40px}
    .top{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap}
    .title{display:flex; flex-direction:column; gap:4px}
    h1{margin:0; font-size:22px; letter-spacing:.2px; line-height:1.15}
    .sub{color:var(--muted); font-size:12px; line-height:1.35}

    .meta{color:var(--muted); font-size:12px; letter-spacing:.16em; text-transform:uppercase; opacity:.9}
    .help{margin-top:6px}
    .help summary{cursor:pointer; color:var(--muted); font-size:12px; user-select:none}
    .help summary::-webkit-details-marker{display:none}
    .help[open] summary{color:var(--text)}
    .help .sub{margin-top:6px}

    .clearBtn{display:none; border:1px solid var(--ol); background:var(--chip2); color:var(--muted); font-size:12px;
      padding:6px 10px; border-radius:999px; cursor:pointer; white-space:nowrap}
    .clearBtn:hover{color:var(--text); border-color:rgba(123,227,161,.35)}
    .clearBtn:active{transform:translateY(1px)}
    .clearBtn.show{display:inline-flex; align-items:center; justify-content:center}


    /* layout */
    .layout{display:grid; grid-template-columns: 1fr 340px; gap:14px; margin-top:12px; align-items:start}
    .main{min-width:0}
    .aside{position:sticky; top:14px}
    .accessToggle{display:none}
    .closeAside{display:none; min-width:44px}
    .drawerBackdrop{display:none}
    .barTop{display:none; justify-content:flex-end; margin:2px 0 8px}

    .bar{display:flex; gap:10px; align-items:center; width:100%}
    .search{flex:1; display:flex; gap:10px; align-items:center; background:var(--panel); border:1px solid var(--ol); border-radius:var(--radius); padding:10px 12px}
    .search input{flex:1; border:none; outline:none; background:transparent; color:var(--text); font-size:14px}

    .pill{display:inline-flex; align-items:center; gap:8px; white-space:nowrap; background:var(--chip); border:1px solid var(--ol); border-radius:999px; padding:8px 10px; color:var(--muted); font-size:12px}
/* Pills de metadata (uniformes) */
.meta .pill{height:32px; padding:0 12px; border-radius:999px; display:inline-flex; align-items:center; gap:8px}
.meta .pill.has-ico .ico{margin-top:-1px}
.meta .pill.metrics{white-space:nowrap}
.meta .pill.metrics span{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:140px}
@media (max-width:540px){
  .meta .pill.metrics span{max-width:120px}
}

/* Tags preview */
.tag.extra{display:none}
.tagToggle{display:inline-flex; align-items:center; justify-content:center; height:28px; padding:0 10px;
  border-radius:999px; border:1px solid var(--ol); background:transparent; color:var(--muted);
  font-size:12px; cursor:pointer; user-select:none}
.tagToggle:hover{border-color:rgba(123,227,161,.35); color:var(--text)}
.tagToggle:active{transform:translateY(1px)}

/* Micro-interacciones sutiles */
.card:hover{border-color:rgba(123,227,161,.16)}
.tag:hover{border-color:rgba(123,227,161,.18); color:var(--text)}
.meta .pill:hover{border-color:rgba(123,227,161,.16); color:var(--text)}


    .btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; min-height:var(--tap);
      padding:8px 12px; border-radius:12px; border:1px solid var(--ol);
      background:var(--chip2); color:var(--text); text-decoration:none; font-size:13px; gap:8px;
      white-space:nowrap;
    }
    .btn:hover{filter:brightness(1.05)}
    .btn:active{transform:translateY(1px)}
    .btn.disabled{opacity:.45; pointer-events:none}
    .btn.ok{border-color:rgba(123,227,161,.35)}
    .btn.warn{border-color:rgba(241,197,107,.35)}

    .grid{margin-top:14px; display:flex; flex-direction:column; gap:10px}
    .card{background:var(--panel); border:1px solid var(--ol); border-radius:16px; padding:12px}
    .head{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap}
    .hleft{min-width:240px}
    .hleft a{color:var(--text); text-decoration:none}
    .hleft a:hover{text-decoration:underline}
    .meta{margin-top:6px; display:flex; flex-wrap:wrap; gap:8px}
    .meta .pill{background:transparent}
    .tags{margin-top:10px; display:flex; flex-wrap:wrap; gap:6px}
    .tag{display:inline-flex; background:var(--chip); border:1px solid var(--ol); border-radius:999px; padding:6px 9px; font-size:12px; color:var(--muted)}
    .actions{display:flex; gap:8px; flex-wrap:wrap}
    .note{margin-top:10px; color:var(--muted); font-size:12px; line-height:1.4}
    .err{margin-top:12px; padding:12px; border:1px solid rgba(241,197,107,.35); background:rgba(241,197,107,.06); border-radius:14px; color:var(--muted); font-size:13px}
    .small{font-size:12px; color:var(--muted)}
    .ico{display:inline-flex; width:14px; height:14px; color:var(--muted)}
    .ico svg{width:14px; height:14px; display:block}


    /* aside blocks */
    .asideTitle{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px}
    .asideTitle .pill{background:transparent}
    .aside .card{padding:12px}
    .aside .card + .card{margin-top:10px}
    .aside .actions{width:100%}
    .aside .actions .btn{flex:1}

    @media (max-width: 780px){
      .layout{grid-template-columns: 1fr}
      /* drawer */
      .barTop{display:flex}
      .accessToggle{display:inline-flex}
      .drawerBackdrop{position:fixed; inset:0; background:rgba(0,0,0,.45); backdrop-filter: blur(6px); z-index:40}
      body.asideOpen .drawerBackdrop{display:block}
      .aside{position:fixed; top:0; right:0; height:100dvh; width:min(360px, 92vw);
        background:var(--bg); border-left:1px solid var(--ol); padding:14px; overflow:auto;
        transform:translateX(110%); transition:transform .24s ease; z-index:50}
      body.asideOpen .aside{transform:translateX(0)}
      body.asideOpen{overflow:hidden}
      .closeAside{display:inline-flex}
      .btn{white-space:nowrap}
    }

    @media (max-width:540px){
      h1{font-size:20px}

      .wrap{padding:14px 12px 32px}
      .search{padding:10px}
      .actions{width:100%}
      .actions .btn{flex:1}
      .hleft{min-width:unset}
    }
  
/* Accesos compacto (Stripe/Linear) */
.accessList{ display:flex; flex-direction:column; gap:10px; }
.accessItem{ display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px; border:1px solid var(--ol); border-radius:14px; background:rgba(255,255,255,.02);
}
.aLeft{ display:flex; flex-direction:column; gap:4px; min-width:0; }
.aTitle{ font-weight:650; letter-spacing:.2px; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.aMeta{ font-size:12px; color:var(--muted); }
.aRight{ display:flex; align-items:center; gap:8px; flex-shrink:0; }
.btn.mini{ padding:8px 10px; border-radius:12px; font-size:12px; }
.aBtns .btn.mini{ width:38px; justify-content:center; padding:8px 0; }
.asideFoot{ margin-top:2px; font-size:12px; color:var(--muted); padding:2px 2px 0; }

/* Contador como estado */
#count strong{ font-weight:750; }
#count .dim{ opacity:.55; font-weight:550; }

/* Mantener contador alineado */
.searchRow{ align-items:center; }
#count{ white-space:nowrap; }


/* Paginación / Cargar más */
.pager .btn{min-height:40px; padding:8px 14px; border-radius:12px}


</style>
</head>
<body>
<div class="wrap">
<div class="top">
<div class="title">
<h1>Centro de búsqueda de la Instrucción</h1>
<div class="meta">Eventos · Emisiones · Transcripciones</div>
<details class="help">
  <summary>¿Cómo buscar?</summary>
  <div class="sub">Buscador de <b>emisiones</b> por palabra, #tag, número, fecha o “vuelta”.<br/>Accesos: <b>Compendio de Transcripciones de las emisiones AC EN RED (PDF)</b> y <b>Eventos (PDF)</b>.</div>
</details>
</div>
<a class="btn" href="./index.html">← Volver</a>
</div>
<div class="layout">
<!-- MAIN: buscador + resultados -->
<div class="main">
<div class="barTop"><button aria-label="Abrir accesos" class="btn accessToggle" id="accessToggle" type="button"><span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-4.6 7-11a7 7 0 10-14 0c0 6.4 7 11 7 11z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg></span><span>Accesos</span></button></div>
<div class="bar">
<div class="search">
<span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/><path d="M20 20l-3.5-3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></span>
<input autocomplete="off" id="q" placeholder="Buscar en emisiones…" type="search"/>
<button class="clearBtn" id="clearBtn" type="button" aria-label="Limpiar búsqueda" title="Limpiar">Limpiar</button>
<span class="pill" id="count">—</span>
</div>
</div>
<div class="note" style="margin-top:8px">Filtra solo emisiones.</div>
<div class="err" id="err" style="display:none"></div>
<div class="grid" id="grid"></div>
<div class="pager" id="pager" style="display:none; margin-top:12px; text-align:center;">
<button class="btn" id="loadMore" type="button">Cargar más</button>
</div>
</div>
<!-- ASIDE: accesos fijos -->
<aside aria-label="Accesos" class="aside" id="asidePanel">
<div class="asideTitle">
<div style="font-weight:650; letter-spacing:.2px">Accesos</div>

<div class="accessList">
  <div class="accessItem">
    <div class="aLeft">
      <div class="aTitle">Compendio (PDF)</div>
      <div class="aMeta">100&nbsp;MB</div>
    </div>
    <div class="aRight">
      <a class="btn mini ok" href="https://drive.google.com/file/d/1WAIULaOi7gW4dEJ3recnPDMbbzRjZ_1o/view?usp=sharing" rel="noopener noreferrer" target="_blank">
        <span class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M14 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8l-6-6z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M14 2v6h6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
        </span>
        <span>Abrir</span>
      </a>
    </div>
  </div>

  <div class="accessItem">
    <div class="aLeft">
      <div class="aTitle">Eventos (PDF)</div>
      <div class="aMeta">71 · 72</div>
    </div>
    <div class="aRight aBtns">
      <a class="btn mini warn" href="/eventos/evento-071.pdf" rel="noopener noreferrer" target="_blank"><span>71</span></a>
      <a class="btn mini warn" href="/eventos/evento-072.pdf" rel="noopener noreferrer" target="_blank"><span>72</span></a>
    </div>
  </div>


  


  <div class="asideFoot">Tip: buscá con Ctrl+F en el visor PDF.</div>
</div>

</aside>
</div>
</div>
<!-- Fallback: datos embebidos (sirve incluso en GitHub preview / file://) -->
<div aria-hidden="true" class="drawerBackdrop" id="drawerBackdrop"></div><script src="./data/ale_en_red_index.js"></script>
<script src="./indice-ale-en-red.js"></script>
<script>
    window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
  </script>
<script defer src="/_vercel/speed-insights/script.js"></script>


<script>
  // Botón Limpiar (solo cuando hay texto)
  (function(){
    const q = document.getElementById('q');
    const clear = document.getElementById('clearBtn');
    if(!q || !clear) return;
    function sync(){
      clear.classList.toggle('show', !!q.value);
    }
    sync();
    q.addEventListener('input', sync);
    clear.addEventListener('click', function(){
      q.value = '';
      sync();
      q.focus();
      // disparar cualquier filtro existente
      q.dispatchEvent(new Event('input', { bubbles: true }));
    });
  })();
</script>
<script>
    // Drawer (Accesos) en mobile
    (function(){
      const btn = document.getElementById('accessToggle');
      const close = document.getElementById('closeAside');
      const backdrop = document.getElementById('drawerBackdrop');
      function open(){ document.body.classList.add('asideOpen'); }
      function closeIt(){ document.body.classList.remove('asideOpen'); }
      if(btn) btn.addEventListener('click', open);
      if(close) close.addEventListener('click', closeIt);
      if(backdrop) backdrop.addEventListener('click', closeIt);
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeIt(); });
    })();
</script>
</body>
</html>
